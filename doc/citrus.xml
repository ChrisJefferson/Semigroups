<!DOCTYPE Book SYSTEM "gapdoc.dtd"
   [ <!ENTITY Citrus "<Package>Citrus</Package>">
     <!ENTITY Smallsemi "<Package>Smallsemi</Package>">
     <!ENTITY Monoid "<Package>Monoid</Package>">
     <!ENTITY Orb "<Package>Orb</Package>">
     <!ENTITY vspace "<Alt Only='LaTeX'>\vspace{\baselineskip}</Alt>">
     <!ENTITY noindent "<Alt Only='LaTeX'>\noindent</Alt>">
     <!ENTITY H "<Alt Only='HTML'>\(\mathcal{H}\)</Alt><Alt
     Only='Text'><E>H</E></Alt><Alt Only='LaTeX'><M>\mathcal{H}</M></Alt>">
     <!ENTITY R "<Alt Only='HTML'>\(\mathcal{R}\)</Alt><Alt
     Only='Text'><E>R</E></Alt><Alt Only='LaTeX'><M>\mathcal{R}</M></Alt>">
     <!ENTITY L "<Alt Only='HTML'>\(\mathcal{L}\)</Alt><Alt
     Only='Text'><E>L</E></Alt><Alt Only='LaTeX'><M>\mathcal{L}</M></Alt>">
     <!ENTITY D "<Alt Only='HTML'>\(\mathcal{D}\)</Alt><Alt
     Only='Text'><E>D</E></Alt><Alt Only='LaTeX'><M>\mathcal{D}</M></Alt>">
     <#Include Label="PKGVERSIONDATA">
   ]>

<Book Name="citrus">
<#Include SYSTEM="title.xml">

<TableOfContents/>

<Body>
<#Include SYSTEM="intro.xml">
  
<Chapter Label="Transformations and partial permutations"><Heading>Transformations and partial permutations
</Heading>
  A <E>transformation</E> is just a function from the set 
  <M>\{1,\ldots, n\}</M> to itself, and a <E>partial permutation</E> is an
  injective function from a subset of <M>\{1,\ldots, n\}</M> to 
  <M>\{1,\ldots, n\}</M> where <M>n</M> is a positive integer. 
  In this chapter, we describe functions for creating and determining
  fundamental properties of transformations and partial permutations.
  Semigroups in the &Citrus; package are semigroups of transformations and
  partial permutations, and so we describe how to create and manipulate these
  objects first.<P/>
  
  The functions described in this section relating to transformations extend 
  the functionality of &GAP; library; see also 
  <Ref Chap="Transformations" BookName="ref"/>.<P/>
  
  <!--General introduction to partial perms such as that in Howie's book,
  including rank, domain, range, idempotent. JDM-->

  <Section><Heading>Creating transformations</Heading>
    In this section we describe the functions available in &Citrus; for
    creating transformations.  The following functions from the &GAP; reference
    manual are particularly relevant to this section:

    <List>
    <Item>
      <Ref Func="Transformation" BookName="ref"/>, 
    </Item>
    <Item>    
      <Ref Func="IdentityTransformation" BookName="ref"/>, 
    </Item>  
    <Item>
      <Ref Func="RandomTransformation" BookName="ref"/>,
    </Item>
    <Item>
      <Ref Func="AsTransformation" BookName="ref"/>.
    </Item>
    </List>   
    <#Include Label="ConstantTransformation"/> 	
    <#Include Label="Idempotent">
    <#Include Label="RandomIdempotent">
    <#Include Label="RandomTransformation">
  </Section>
  
  <Section><Heading>Creating partial permutations</Heading>
    In this section we describe the functions available in &Citrus; for
    creating partial permutations.  In addition to the functions described in
    this section, partial permutations can also be created from permutations
    and certain transformations;  see Section 
    <Ref Sect="Changing representation"/>. <P/>

    <E>Please note that the functions for partial permutations and inverse
      semigroups are only available if you have compiled &Citrus;.</E> 

    <#Include Label="PartialPerm">
    <#Include Label="RestrictedPartialPerm">
    <#Include Label="One">
    <#Include Label="LeftOne">
    <#Include Label="RandomPartialPerm">
  </Section>
  
  <Section><Heading>Displaying partial permutations</Heading>
    Partial permutations <C>f</C> with rank less than 20 are displayed as:
    <Log>DomainOfPartialPerm(f) -> RangeOfPartialPerm(f)</Log>
    see <Ref Func="DomainOfPartialPerm"/> and <Ref Func="RangeOfPartialPerm"/>.
    The empty mapping is displayed as:
    <Log>&lt;empty mapping></Log>
    and a partial identity is displayed as, for example,
    <Log>&lt;identity on [ 1, 2, 3, 4, 5, 8, 12, 19, 20 ]></Log>
    <P/>

    If a partial permutation in &GAP; has rank 20 points or more, then to make
    the display more readable the domain and the range of the partial 
    permutatation are not printed, for example, a partial permutation with
    rank 27 will be displayed as:
    <Log>&lt;partial perm on 27 pts></Log>
    If you want to display a partial permutation in a form that can be copied
    and pasted back into &GAP;, then use <C>Display</C>:
    <Log>gap> Display(f);               
PartialPermNC( [ 1, 2, 3, 5, 6, 7, 8 ], [ 5, 9, 10, 6, 3, 8, 4 ] )</Log>
    Likewise, you can display a collection of partial permutations using
  <C>Display</C>:
  <Log>gap> Display(Generators(s));
[ PartialPermNC( [ 1, 2, 3, 4, 5, 8, 10 ], [ 3, 1, 4, 2, 5, 6, 7 ] ),
PartialPermNC( [ 1, 2, 4, 7, 8, 9 ], [ 10, 7, 8, 5, 9, 1 ] ) ]</Log>

    <#Include Label="PrettyPrintPP">
  </Section>
  
  <Section><Heading>Properties of transformations</Heading>
    In this section we describe the functions available in
    &Citrus; for finding various properties of 
    transformations. <P/>

    In addition to those functions described below, &Citrus; 
    also contains a special method for
   <Ref Attr="RankOfTransformation" BookName="ref"/>. 

    <#Include Label="CanonicalTransSameKernel">
    <#Include Label="IndexPeriodOfTransformation">
    <#Include Label="InversesOfTransformation">
    <#Include Label="IsInjectiveTransOnList">
    <#Include Label="IsRegularTransformation">
    <#Include Label="SmallestIdempotentPower">
  </Section>
   
  <Section><Heading>Properties of partial permutations</Heading>
    In this section we describe the functions available in &Citrus; for
    finding various properties of partial permutations. 
    <P/>

    <#Include Label="IsPartialPerm">
    <#Include Label="DomainOfPartialPerm">
    <#Include Label="RangeOfPartialPerm">
    <#Include Label="RangeSetOfPartialPerm">
    <#Include Label="FixedPointsOfPartialPerm">
    <#Include Label="DenseRangeList">
    <#Include Label="RankOfPartialPerm"/>
    <#Include Label="DegreeOfPartialPerm"/>
    <#Include Label="IndexPeriodOfPartialPerm"/>
  
  </Section>
 
  <Section><Heading>Operators for transformations</Heading>
    <List> 
    <Mark><C><A>f</A> ^ <A>g</A></C></Mark>
    <Item><Index Key="^"><C>^</C></Index>
    returns <C><A>g</A>^-1*<A>f</A>*<A>g</A></C> when 
     <A>f</A> is a transformation and <A>g</A> is a permutation 
     <Ref Oper="\^" BookName="ref"/>.
     </Item>
    
     <Mark>
       <C><A>f</A> * <A>g</A></C>
     </Mark>
     <Item>
       <Index Key="*"><C>*</C></Index>
       returns the composition of the transformations <A>f</A> and <A>g</A>.
       &Citrus; contains more efficient methods than the &GAP;
    library for <Ref Oper="\*" BookName="ref"/> when <A>f</A> and <A>g</A> are
    transformations or permutations (and at least one of <A>f</A> and <A>g</A>
    is a transformation).
     </Item>
   </List>
    
  </Section>

  <Section><Heading>Operators on partial permutations</Heading>
    <List><Mark>
        <C><A>f</A> ^ <A>-1</A></C></Mark>
    <Item>
    <Index Key="^"><C>^</C></Index>
      returns the inverse of the partial permutation <A>f</A>.
    </Item>
    <Mark><C><A>i</A> ^ <A>f</A></C></Mark>
    <Item>
      returns the image of the positive integer <A>i</A> under the partial
      permutation <A>f</A> if <A>f</A> is defined on <A>i</A> and <K>fail</K>
      if <A>f</A> is undefined on <A>i</A>. 
    </Item>
    <Mark><C><A>f</A> * <A>g</A></C></Mark>
    <Item>
    <Index Key="*"><C>*</C></Index>
      returns the composition of the partial permutations <A>f</A> and 
      <A>g</A>. Unlike transformations, but similar to permutations, in &GAP; 
      it is possible to multiply any two partial permutations. It is also
      possible to multiply partial permutations and permutations acting on
      integers not larger than 65535; see <Ref Func="PartialPerm"/> for some
      further comments about composing partial permutations and permutations. 
    </Item>
    <Mark><C><A>f</A> &lt; <A>g</A></C></Mark>
    <Item> 
      returns <K>true</K> if <C>RangeOfPartialPerm(<A>f</A>)</C> is
      lexicographically less than <C>RangeOfPartialPerm(<A>g</A>)</C> and
      <K>false</K> if it is not. Note that this is not the natural partial
      order on elements of an inverse semigroup; see <Ref
        Func="NaturalLeqPartialPerm"/>.
    </Item>
    <Mark><C><A>f</A> = <A>g</A></C></Mark>                  
    <Item>                                                      
      returns <K>true</K> if the partial permutation <A>f</A> equals the
      partial permutation <A>g</A> and returns <K>false</K> if it is not. 
    </Item>
    <Mark><C><A>f</A> / <A>g</A></C></Mark>   
    <Item> 
      returns <C><A>f</A> * <A>g^-1</A></C> where <A>f</A> and <A>g</A> are
      partial permutations; <C><A>f</A> / <A>g</A></C> has better
      performance than <C><A>f</A> * <A>g^-1</A></C>. 
      </Item>
    </List> 
   
    <#Include Label="NaturalLeqPartialPerm"/>
  </Section>
 
  <Section Label="Changing representation">
    <Heading>Changing representations</Heading>
    It is possible to change the representation of certain transformations and
    partial permutations using the functions described in this section.  
    <#Include Label="AsPermOfKerImg">
    <#Include Label="AsPermutation">
    <#Include Label="AsPartialPerm">
    <#Include Label="AsTransformation">
  </Section>

  <Section><Heading>Actions</Heading>
    The following actions of transformations and partial permutations are used
    by &Citrus; in the computation of Green's relations and to test if an
    arbitrary transformation semigroup has a particular property;  see Chapters
    <Ref Chap="green"/>, <Ref Chap="properties"/>, and <Ref Sect="Basic
      Actions" BookName="ref"/>.  <P/>
    
    <#Include Label="OnKernelsAntiAction"> 
    <#Include Label="OnIntegerSetsWithPartialPerm"> 
  </Section>
  <Section><Heading>Orbits</Heading>
    The following functions supplement the &Orb; package by providing methods
    for computations related to the strongly connected components of an
    orbit of a semigroup. <P/>

    Please note that if any of the functions in this section is applied to an
    open orbit, then the orbit is enumerated before anything else. It is not
    possible to calculate the strongly connected components of an orbit of a
    semigroup acting on a set until the entire orbit has been found.

    <#Include Label="OrbSCC">
    <#Include Label="OrbSCCLookup">
    <#Include Label="OrbSCCTruthTable">
    <#Include Label="ReverseSchreierTreeOfSCC">
    <#Include Label="SchreierTreeOfSCC">
    <#Include Label="TraceSchreierTreeOfSCCBack">
    <#Include Label="TraceSchreierTreeOfSCCForward">
  </Section>
 </Chapter>

<#Include SYSTEM "semigroups.xml">

<Chapter Label="green"><Heading>Determining the structure of a semigroup</Heading>

  In this chapter we describe the functions in &Citrus; for determining the
  structure of a semigroup of transformations or partial permutations, in
  particular for computing Green's classes and related properties of 
  semigroups. 
  
  <Section><Heading>Expressing semigroup elements as words in
    generators</Heading>
    In some cases it is possible to express the elements of a transformation
    semigroup as a word in the generators. This section describes how to
    accomplish this in &Citrus;. <P/>

    Note that at present it is not possible to factorize elements in a
    semigroup of partial permutations.

    <#Include Label="EvaluateWord">
    <#Include Label="Factorization">
  </Section>

  <Section><Heading>Creating Green's classes</Heading>
    <#Include Label="XClassOfYClass">
    <#Include Label="GreensXClassOfElement">
    <#Include Label="GreensXClassOfElementNC">
    <#Include Label="GroupHClass">
  </Section>
  
  <Section><Heading>Iterators and enumerators
  </Heading>
    <#Include Label="GreensXClasses">
    <#Include Label="IteratorOfXClassReps"> 
    <#Include Label="IteratorOfXClasses"> 
    <#Include Label="UnderlyingSemigroupOfIterator">
    <#Include Label="XClassReps">
  </Section>

  <Section><Heading>Properties of Green's classes</Heading>
    <#Include Label="\&lt;">
    <#Include Label="Idempotents">
    <#Include Label="IsGreensClassOfTransSemigp">
    <#Include Label="IsRegularXClass">
    <#Include Label="NrIdempotents">
    <#Include Label="NrRegularDClasses">
    <#Include Label="NrXClasses">
    <#Include Label="PartialOrderOfDClasses">
    <#Include Label="SchutzenbergerGroup">
  </Section>

  <Section><Heading>Attributes of semigroups</Heading>
    In this section we describe the attributes <Ref Sect="Attributes"
    BookName="ref"/> of an arbitrary transformation semigroup that can be found
    using &Citrus;.
    <#Include Label="Degree">
    <#Include Label="Generators">
    <#Include Label="GradedImagesOfTransSemigroup">
    <#Include Label="GroupOfUnits">
    <#Include Label="IdempotentGeneratedSubsemigp">
    <#Include Label="IrredundantGeneratingSubset">
    <#Include Label="ImagesOfTransSemigroup">
    <#Include Label="MinimalIdeal">
    <#Include Label="MultiplicativeZero">
    <#Include Label="NrElementsOfRank">
    <#Include Label="Random">
    <#Include Label="Rank">
    <#Include Label="SmallGeneratingSet"> 
  </Section>
  
  <Section><Heading>Properties of semigroups</Heading>
    In this section we describe several properties 
    <Ref Sect="Properties" BookName="ref"/> of an
    arbitrary transformation semigroup that can be determined using
    &Citrus;.
    <#Include Label="IsBand">
    <#Include Label="IsBlockGroup">
    <#Include Label="IsBrandtSemigroup">
    <#Include Label="IsCliffordSemigroup">
    <#Include Label="IsCommutativeSemigroup">
    <#Include Label="IsCompletelyRegularSemigroup">
    <#Include Label="IsRTrivial">
    <#Include Label="IsGroupAsSemigroup">
    <#Include Label="IsIdempotentGenerated">
    <#Include Label="IsInverseSemigroup">
    <#Include Label="IsLeftSimple">
    <#Include Label="IsLeftZeroSemigroup">
    <#Include Label="IsMonogenicSemigroup">
    <#Include Label="IsMonoidAsSemigroup">
    <#Include Label="IsOrthodoxSemigroup">
    <#Include Label="IsRectangularBand">
    <#Include Label="IsRegularSemigroup">
    <#Include Label="IsRightZeroSemigroup">
    <#Include Label="IsSemilatticeAsSemigroup">
    <#Include Label="IsSimpleSemigroup">
    <#Include Label="IsSynchronizingSemigroup">
    <#Include Label="IsZeroGroup">
    <#Include Label="IsZeroRectangularBand">
    <#Include Label="IsZeroSemigroup">
    <#Include Label="IsZeroSimpleSemigroup">
  </Section>

  <Section><Heading>Changing the representation of a semigroup</Heading>
    <#Include Label="AntiIsomorphismTransformationSemigroup">
    <#Include Label="IsomorphismTransformationMonoid">
    <#Include Label="IsomorphismPermGroup">
  </Section>
</Chapter>

</Body>

<Bibliography Databases="citrus" />
<TheIndex/>

</Book>
  
